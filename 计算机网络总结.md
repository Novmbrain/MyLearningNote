# 网络层





# 数据链路层

## MAC地址和IP地址分别有什么作用

MAC地址：MAC地址是数据链路层和物理层使用的地址。每个网卡在出厂时都指定了唯一的MAC地址。每个MAC地址为48位的二进制数，通常表示为12个16进制数

- 在广播信道中实现点到点通信就需要依靠MAC地址。
- 网卡可以依据MAC地址过滤掉不是发给自己的帧，适配器从网络中每收到一个MAC帧，就先用硬件检查MAC帧中的目的地址是否是发给自己的。如果不是则丢弃，而不需要等到网络层再丢弃。这样可以不浪费主机的资源

IP地址：IP地址是网络层及以上层使用的地址，是一种逻辑上的地址。长度为32位，并可以根据子网掩码的位数，分成两段，分别是网络号和主机号。IP地址是和地域相关的，在同一个地域的子网中的设备，所分配的IP地址前缀都是一样的，这样路由器能够仅仅储存IP地址的前缀，保证将数据包送入对应的子网。剩下的寻址就交给子网内部实现，从而大大减少路由器所需要的内存。

## 为什么有了 MAC 地址还需要 IP 地址

如果仅仅使用MAC地址进行寻址的话，需要路由器记住每个MAC地址属于哪个子网，不然一次路由器收到数据包时都要向全世界寻找目的MAC地址。因为MAC地址长度为48位，也就是2的48次方个MAC地址，路由器是不可能储存这么多MAC地址的。又因为MAC是有出厂商确定的，不与地域相关，没有办法向IP地址一样，相同前缀的IP地址属于一个子网。

IP地址是和地域相关的，在同一个地域的子网中的设备，所分配的IP地址前缀都是一样的，这样路由器能够仅仅储存IP地址的前缀，保证将数据包送入对应的子网。剩下的寻址就交给子网内部实现，从而大大减少路由器所需要的内存。

## 为什么有了MAC地址还需要IP地址

设备只有在连接入网络时，才会根据其所在的子网分配IP地址。当设备还没有IP地址的时候吗，我们使用MAC地址对设备进行区分。比如在广播信道中实现点到点通信就需要依靠MAC地址。网卡可以依据MAC地址过滤掉不是发给自己的帧，适配器从网络中每收到一个MAC帧，就先用硬件检查MAC帧中的目的地址是否是发给自己的。如果不是则丢弃，而不需要等到网络层再丢弃。这样可以不浪费主机的资源

## 以太网中的CSMA/CD协议

以太网是一种计算机局域网组网技术，以太网使用的协议是CSMA/CD协议，中文名为载波侦听多路访问/冲突检测。在以太网中多台主机在同一个信道中进行数据传输。CSMA/CD协议解决了共享信道中的数据传输冲突问题

