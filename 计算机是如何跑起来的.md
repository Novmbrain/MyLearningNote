

# 计算机是如何跑起来的

## 计算机的三大原则

- 计算机是执行输入、运算、输出的机器
- 程序是指令和数据的集合
- 计算机的处理方式有时与人们的思维习惯不同



## 制作一台计算机

### 计算机基础原件

- CPU（Central Processing Unit）
- 内存
- I/O

<img src="D:\编程学习\MD笔记\计算机是如何跑起来的\计算机组成.png" alt="程序员眼中世界之计算机组成- 云+社区- 腾讯云" style="zoom:150%;" />

### 微型计算机电路图

<img src="D:\编程学习\MD笔记\计算机是如何跑起来的\20200209124400922.jpg" alt="20200209124400922" style="zoom:200%;" />

### 附属原件图

![附属原件图](D:\编程学习\MD笔记\计算机是如何跑起来的\附属原件图.png)

### IC上引脚的作用汇总

![IC上引脚作用汇总](D:\编程学习\MD笔记\计算机是如何跑起来的\IC上引脚作用汇总.png)

### 总线

总线是连接到CPU中数据引脚，地址引脚，控制引脚上的电路的统称

- BUSRQ|：Busrequest 总线请求 (|代替BUSRQ上的横线，表示负压输入有效)

- DMA：

  Direct Memory Access， 直接储存器访问，但BUSRQ为0时，CPU从电路中隔离，处于这种隔离状态时，可以不通过CPU，手动向内存中写入程序。
  像这种不经过COPU直接从外部设备读写内存的行为成为DMA。硬盘读写内存时使用的就是DMA

- BUSAK|：Bus Acknowledge，响应总线请求，当BUSRQ|上值为0时，BUSAK|的值也会变成0

### 上拉

Pull-up，指的是通过加入电阻把原件的引脚和+5V连接起来

### 三态总线缓冲

电信号单向通过

当G1|，G2|同时为0时， 电信号能从74367通过

当G1|，G2|同时为1时，74367会与电路隔离



## 汇编

### 机器语言

机器语言，也称为Native code就是只用0和1两个二进制数书写的编程语言。对于同一段机器语言，不同的CPU解释不同

### 汇编语言

结构：标签	操作码	操作数

标签：为该行代码对应的内存地址起一个名字

操作码：表示“做什么”的指令

 操作数：表示的是指令执行的对象。CPU的寄存、内存地址、I/O地址或者直接给出的数字都可以作为操作数

![Z80CPU中的主要指令](D:\编程学习\MD笔记\计算机是如何跑起来的\Z80CPU中的主要指令.png)

num：表示 1 个数值，(num)：表示值为 num 的地址

reg、reg1、reg2：名为 reg、reg1、reg2 的寄存器，(reg)：存储在名为 reg 的寄存器中的地址

### CPU寄存器

![Z80CPU寄存器结构](D:\编程学习\MD笔记\计算机是如何跑起来的\Z80CPU寄存器结构.png)

- A寄存器：累加器
- F寄存器：标志寄存器，用于储存运算结果的状态，比如是否发生了进位
- PC寄存器：程序指针，储存着指向CPU接下来要执行的指令的地址
- SP寄存器：栈顶指针，用于在内存中创建出“栈”的临时数据储存区域

## 结构程序设计

所谓结构化程序设计是指：为了把程序编写的具备结构性，仅适用顺序执行，条件分支和循环表示程序的流程，而不再使用跳转GOTO指令

![结构化程序设计例子](D:\编程学习\MD笔记\计算机是如何跑起来的\结构化程序设计例子.png)

## 算法简介
### 算法中的哨兵

简单来说，哨兵是在循环或迭代算法中用来标志终止条件的值。

**线性搜索**

线性搜索是指在给定数组中从头搜索，直到找到一个与target相等的索引。Li是数组中索引为i的元素，T是要查找的目标元素。

### 基本算法

1. Set i to 0.
2. If Li = T, the search terminates successfully; return i.
3. Increase i by 1.
4. If i < n, go to step 2. Otherwise, the search terminates unsuccessfully.

上面的算法，如何用哨兵进行优化呢？

### 带哨兵的线性搜索

添加一个元素Ln（也就是哨兵）到数组中，假如初始数组中没有查找到T元素，则搜索将会到达哨兵处。

基本算法思路：

1. Set *i* to 0.
2. If *Li* = *T*, go to step 4.
3. Increase *i* by 1 and go to step 2.
4. If *i* < *n*, the search terminates successfully; return *i*. Else, the search terminates unsuccessfully.

可以看到，加入哨兵后，每次不用去检查是否 i < n，这样会提 升算法的执行效率。 



### 关于算法编写的忠告

写算法题前，现在纸上构思

### 算法那和数据结构的关系

程序员做的事：结合计算机的特性，用程序来表示现实世界中对问题的处理步骤，这些处理步骤就是算法。所谓结合计算机的特性，意思是选择合适的数据排列方式来储存程序运行中所需要的数据

## 数据库

### 数据库三要素

- 应用程序
- DBMS
- 数据文件

![DMS是应用程序和数据文件的中介](D:\编程学习\MD笔记\计算机是如何跑起来的\DMS是应用程序和数据文件的中介.png)



### 数据库的架构

- 独立型系统（小型系统）：把三要素全部署在一台计算机上

- 文件共享型系统（中型系统）：把数据文件部署在一台计算机上，使得数据文件被部署了DBMS和应用程序的多台计算机共享

- “”客户端/服务器型系统“（大型系统）：把数据文件和DBMS部署在一台（或多台）计算机上，用户从另外部署着应用程序的计算机访问

  - 服务器Server：部署着数据文件和DBMS的计算机

  - 客户端Client：部署着应用程序的计算机![独立型系统和文件共享型系统](D:\编程学习\MD笔记\计算机是如何跑起来的\独立型系统和文件共享型系统.png)

    ![CS系统和Web系统](D:\编程学习\MD笔记\计算机是如何跑起来的\CS系统和Web系统.png)

### 规范化

在存储数据时，为了避免重复存储相同的数据，通常要进行规范化。所谓规范化，就是将一张大表分割成多张小表，然后再在小表之间建立联系，以达到整理数据库结构的目的

### 键

键（Key）反应表和表之间的关系。通过主键和外键上相同的值，多个表之间就产生了关联

- 主键（Primary Key）：该字段的值能欧股唯一的标识表中的一条记录，所以主键非空且不可重复
- 外键（Foreign Key）：一张表中的非本表的主键

### 连接表（Link Table）

当两张表出现多对多关系时，可以在这两张表之间再加入一张表，把多对关系分解成两个一对多关系，加入的这张表被称为连接表

![连接表](D:\编程学习\MD笔记\计算机是如何跑起来的\连接表.png)

### 索引

- 索引：索引是提升数据检索速度和排序速度的内部机制，当为一个字段设置了索引，DBMS就会自动为这个字段创建索引表
- 索引表：索引表是一种数据结构，存储着字段的值以及字段所对应记录的位置。与字段原先所在的表相比，索引表的字段数更少，可以更快地进行数据的检索和排序

所以，在查询数据时，DBMS现在索引表中进行数据的检索和排序，然后在根据位置信息从原来的数据表中把完整的记录读取出来个。

![索引表](D:\编程学习\MD笔记\计算机是如何跑起来的\索引表.png)

索引缺点：一个字段一旦设置了索引，每次向表中插入数据时，DBMS都必须更新索引表。所以，提升数据检索和排序速度的代价是插入和更新速度的降低。

### CRUD

插入CREATE、获取REFER、更新UPDATE、删除DELETE

## 网络

### 术语合集

- LAN：Local Area Network
- WAN：Wide Area Networ
- TCP/IP协议族：Transmission Control Protocol/Internet Protocol（传输控制协议和网际协议），这是互联网所使用的的一套标准协议
- Protocol：协议
- Hub：集线器，负责把各台计算机的网线相互连接在一起的设备
- NIC：Network Interface Card，网卡

### 小规模LAN网

#### CSMA/CD

Career Sense Multiple Access with Collision Detection,带冲突检测的载波监听多路访问，一般只用于LAN中

- Career Sense：载波监听，指的是这套机制会去监（Sense）表示网络是否正在使用的电信号（Career）
- Multiple Acess：多路复用，指的是多个（Multiple）设备可以同时访问（Acess）传输介质
- with Collision Detection：带冲突检测表示这套机制回去检测因同一时刻的传输而导致的信号冲突

#### MAC

Media Access Control地址，用来指定标识网卡，每一块网卡的ROM里都预先烧录了一个唯一的MAC地址。这个MAC地址在出厂时就确定了，是独一无二的

在cmd中输入`ipconfig /all`可以查看MAC

总结：MAC在硬件层面上标识网卡

### IP 

在TCP/IP网络中，除了硬件上的MAC地址，还需要为每台计算机设定一个软件上的编号，这就是所谓的IP地址。与MAC地址一样，每个IP地址的值也是独一无二的

IP地址是一个32比特的整数，每8比特为一组，组间用‘.’分开。所以范围是0.0.0.0~255.255.255.255。IP地址可以分成两个部分

- 网络地址
- 主机地址

#### 子网掩码

用于标识主机地址的起始位置，子网掩码中值为1的位对应着IP中的网络地址，后面值为0的位对应着主机地址。

#### DHCP

Dynamic Host Configuration Protocol(动态主机设置协议)

#### DNS

Domain Name System 域名系统。每一个计算机都有一个主机名，而每个LAN也有一个域名。

IP地址难以记忆，DNS服务器能够将FQDN自动解析为IP地址（域名解析）。DNS服服务器被部署在各个LAN中，里面记录着FQDN和IP地址的对应关系表

#### FQDN

Fully Qualified Domain Name，完整限定域名。比如计算机的主机名为ma50j，而计算机所在的LAN的域名是yzw.co.jp。将这两者结合起来就形成了FQDN m50j.yeze.co,jp这能够标识一台计算机在世界范围内独一无二的名字

我目前的电脑FQDN为 DESKTOP-HU82A8K.resel.fr

#### ARP

Address Resolution Rotocol，地址解析协议。在互联网世界中，到处传输的都是附带了IP地址的数据，但能够标识作为数据最终接受者的网卡的，还是MAC地址。ARP实现的就是IP地址到MAC地址的转换

ARP在收到IP后会向LAN的所有计算机Broadcast“广播”，询问“有谁的IP地址为~~~~，请将你的MAC地址告诉我”。

ARP也会将IP和MAC的对应关系存储为ARP缓存表



## 数据加密

明文：未经过加密的数据成为

密文：加密过后的数据

对称加密技术：加密和解密的过程中使用的是相同的秘钥

## XML标记语言

XML（eXtensible Markup Language），可扩展标记语言